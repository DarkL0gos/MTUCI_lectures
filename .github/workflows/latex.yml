#get targets (определяем директорию)
#prepare build (определяем аргументы директории, название итогового файла)
#build (компилируем ЛаТеХ)
#upload (загружаем обратно с нужным именем)

# "ИмяЛектора_Предмет_Семестр" !!!!!

name: Build and upload LaTeX
on:
  push:
    branches:
      - main
  pull-request:
    branches:
      - main

jobs:
 #   TARGET = "semester_2/algebra_dyomin"
 #   CONSPECT_NAME="Dyomin_Algebra_2"
    
    build:
           runs-on: ubuntu-latest
            steps:    
                - uses: actions/checkout@v2
                - name: Build
                          uses: xu-cheng/latex-action@v2
                          with:
                                  root_file: main.tex
                                  working_directory: semester_2/algebra_dyomin
                                  args: -jobname=Dyomin_Algebra_2 -pdf -file-line-error -halt-on-error -interaction=nonstopmode
                                  compiler: pdflatex  
                 - name: upload pdf document
                           uses: actions/upload-artifact@v2
                           with:
                                name: Dyomin_Algebra_2
                                path: semester_2/algebra_dyomin/Dyomin_Algebra_2.pdf
